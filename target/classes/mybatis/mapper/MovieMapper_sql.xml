<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bit.movie.review.dao.MovieDAO">
	<select id="selectAllMovie" resultType="bit.movie.review.dto.Movie">
		SELECT *
		FROM MOVIE
		ORDER BY date DESC
	</select>
	
	<insert id="insertMovie" parameterType="bit.movie.review.dto.Movie">
		INSERT INTO MOVIE(MOVIENAME, POSTERIMGSRC, MOVIEAGE, AUDIENCE, TICKETING, DATE)
		VALUES(#{movieName}, #{posterImgSrc}, #{movieAge}, #{audience}, #{ticketing}, #{date})
	</insert>
	
	<update id="updateMovie" parameterType="bit.movie.review.dto.Movie">
		UPDATE movie
		SET movieName=#{movieName}, posterImgSrc=#{posterImgSrc}, movieAge=#{movieAge}, audience=#{audience}, ticketing=#{ticketing}
		WHERE movieName=#{movieName} and date=#{date}
	</update>
	
	<update id="updateMovieWithoutAudience" parameterType="bit.movie.review.dto.Movie">
		UPDATE movie
		SET movieName=#{movieName}, movieAge=#{movieAge}, ticketing=#{ticketing}
		WHERE movieName=#{movieName} and date=#{date}
	</update>
	
</mapper>